# SODC (Signal Officers' Dinner Club) Data Connect Schema

# HasAudit interface for tracking creation and update metadata
interface HasAudit {
  createdAt: Timestamp!
  updatedAt: Timestamp!
  createdBy: String
  updatedBy: String
}

# User table is keyed by Firebase Auth UID.
type User @table implements HasAudit {
  # `@default(expr: "auth.uid")` sets it to Firebase Auth UID during insert and upsert.
  id: String! @default(expr: "auth.uid")
  firstName: String!
  lastName: String!
  email: String!
  serviceNumber: String!
  # HasAudit fields
  createdAt: Timestamp! @default(expr: "request.time")
  updatedAt: Timestamp! @default(expr: "request.time")
  createdBy: String @default(expr: "auth.uid")
  updatedBy: String @default(expr: "auth.uid")
}
